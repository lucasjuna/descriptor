(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{169:function(e,t,a){e.exports=a(326)},174:function(e,t,a){},207:function(e,t,a){},320:function(e,t,a){},326:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(16),c=a.n(l),o=(a(174),a(8)),s=a(9),i=a(11),u=a(10),m=a(12),d=a(15),p=a(20),E=a(19),h=a(42),f={list:[],loadedSeller:null,itemsLoading:!1};var v=function(e,t){return fetch("/api/items/".concat(e),{method:"put",headers:{Authorization:"Bearer ".concat(L.getState().oidc.user.access_token),"Content-Type":"application/json"},body:JSON.stringify(t)})},g="descriptor/LOAD_ITEM_START",b="descriptor/LOAD_ITEM_SUCCESS",S="descriptor/LOAD_DESCRIPTION_START",j="descriptor/LOAD_DESCRIPTION_SUCCESS",O=function(e){return function(t){return t({type:g}),function(e){return fetch("/api/items/".concat(e),{method:"get",headers:{Authorization:"Bearer ".concat(L.getState().oidc.user.access_token)}}).then(function(e){return e.ok?e.json():Promise.reject({status:e.status,error:e.json()})},function(e){return console.log("An error occurred.",e)})}(e).then(function(e){return t({type:b,payload:e})})}},y=function(e,t){return function(a){return a({type:S}),function(e,t){return fetch("/api/items/".concat(e,"/descriptions/").concat(t),{method:"get",headers:{Authorization:"Bearer ".concat(L.getState().oidc.user.access_token),"Content-Type":"application/json"}}).then(function(e){return e.ok?e.json():Promise.reject({status:e.status,error:e.json()})},function(e){return console.log("An error occurred.",e)})}(e,t).then(function(e){return a({type:j,payload:e})})}},N={loadedItem:{},loadedDescription:{}};var w="descriptor/LOAD_DASHBOARD_SUCCESS",D=function(e){return function(t){return t({type:"descriptor/LOAD_DASHBOARD_START"}),function(e){return fetch("/api/sellers/".concat(e,"/items"),{method:"get",headers:{Authorization:"Bearer ".concat(L.getState().oidc.user.access_token)}}).then(function(e){return e.ok?e.json():Promise.reject({status:e.status,error:e.json()})},function(e){return console.log("An error occurred.",e)})}(e).then(function(e){t({type:w,payload:e})})}},C={items:[]};var k=Object(h.c)({oidc:p.reducer,sellers:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:f,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case p.SESSION_TERMINATED:case p.USER_EXPIRED:return Object.assign({},e,f);case F:return Object.assign({},e,{list:t.payload});case P:case z:return Object.assign({},e,{loadedSeller:t.payload});case X:return Object.assign({},e,{itemsLoading:!1,loadedSeller:Object.assign({},e.loadedSeller,{total:t.payload.total,escalated:t.payload.escalated})});case Y:return Object.assign({},e,{loadedSeller:null});case H:return Object.assign({},e,{itemsLoading:!0,reviewsResult:[]});case J:return Object.assign({},e,{itemsLoading:!1});default:return e}},items:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:N,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case g:case p.SESSION_TERMINATED:case p.USER_EXPIRED:return Object.assign({},e,N);case b:return Object.assign({},e,{loadedItem:t.payload});case S:return Object.assign({},e,{loadedDescription:{}});case j:return Object.assign({},e,{loadedDescription:t.payload});default:return e}},dashboard:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:C,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case w:return Object.assign({},e,{items:t.payload});default:return e}}}),_={client_id:"js",redirect_uri:"".concat(window.location.protocol,"//").concat(window.location.hostname).concat(window.location.port?":".concat(window.location.port):"","/callback"),response_type:"token id_token",scope:"openid profile descriptor",authority:"http://10.0.75.1:8181",silent_redirect_uri:"".concat(window.location.protocol,"//").concat(window.location.hostname).concat(window.location.port?":".concat(window.location.port):"","/silent-renew"),automaticSilentRenew:!0,filterProtocolClaims:!0,loadUserInfo:!0,post_logout_redirect_uri:"".concat(window.location.protocol,"//").concat(window.location.hostname).concat(window.location.port?":".concat(window.location.port):"","/")},A=Object(p.createUserManager)(_),R=a(144),I=Object(h.d)(Object(h.a)(R.a,function(e){return function(t){return function(a){console.log("Action type:",a.type),console.log("Action payload:",a.payload),console.log("State before:",e.getState()),t(a),console.log("State after:",e.getState())}}}))(h.e)(k,{},window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__());Object(p.loadUser)(I,A);var L=I,T=function(){return fetch("/api/sellers",{method:"get",headers:{Authorization:"Bearer ".concat(L.getState().oidc.user.access_token)}}).then(function(e){return e.ok?e.json():Promise.reject({status:e.status,error:e.json()})},function(e){return console.log("An error occurred.",e)})},U=a(145),x=a(23),B=Object(x.createBrowserHistory)({}),M=a(43),F="descriptor/LOAD_ALL_SELLERS_SUCCESS",P="descriptor/LOAD_SELLER_SUCCESS",z="descriptor/ADD_SELLER_SUCCESS",Y="descriptor/CLEAR_SELLER",H="descriptor/LOAD_ITEMS_START",X="descriptor/LOAD_ITEMS_SUCCESS",J="descriptor/LOAD_ITEMS_FAILURE",V=function(e){return function(t){return t({type:"descriptor/LOAD_SELLER_START"}),function(e){return fetch("/api/sellers/".concat(e),{method:"get",headers:{Authorization:"Bearer ".concat(L.getState().oidc.user.access_token)}}).then(function(e){return e.ok?e.json():Promise.reject({status:e.status,error:e.json()})},function(e){return console.log("An error occurred.",e)})}(e).then(function(e){return t({type:P,payload:e})}).catch(function(a){if(404===a.status)return Object(U.confirmAlert)({message:"New Seller. Load Items?",buttons:[{label:"Yes",onClick:function(){return t(W(e))}},{label:"No"}]});a.error.then(function(e){return M.b.error(e.message)})})}},W=function(e){return function(t){return t({type:"descriptor/ADD_SELLER_START"}),function(e){return fetch("/api/sellers/".concat(e),{method:"post",headers:{Accept:"application/json",Authorization:"Bearer ".concat(L.getState().oidc.user.access_token)}}).then(function(e){return e.ok?e.json():Promise.reject({status:e.status,error:e.json()})},function(e){return console.log("An error occurred.",e)})}(e).then(function(a){B.push("/load-items/new-seller"),t({type:z,payload:a}),t($(e))}).catch(function(e){return e.error.then(function(e){return M.b.error(e.message)})})}},$=function(e){return function(t){return t({type:H}),function(e){return fetch("/api/sellers/".concat(e),{method:"put",headers:{Authorization:"Bearer ".concat(L.getState().oidc.user.access_token)}}).then(function(e){return e.ok?e.json():Promise.reject({status:e.status,error:e.json()})},function(e){return console.log("An error occurred.",e)})}(e).then(function(e){return t({type:X,payload:e})}).catch(function(e){t({type:J}),e.error.then(function(e){return M.b.error(e.message)})})}},q=a(330),G=a(331),K=a(332),Q=a(333),Z=a(21),ee=a(339),te=a(334),ae=a(335),ne=a(336),re=(a(57),function(e){function t(){return Object(o.a)(this,t),Object(i.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props.seller;return e?r.a.createElement(q.a,{className:"seller-info"},r.a.createElement(G.a,null,r.a.createElement(K.a,{sm:3},r.a.createElement("div",{className:"label"},"First Name:")),r.a.createElement(K.a,{sm:3},r.a.createElement("div",{className:"textbox"},e.firstName||"-")),r.a.createElement(K.a,{sm:3},r.a.createElement("div",{className:"label"},"Last Name:")),r.a.createElement(K.a,{sm:3},r.a.createElement("div",{className:"textbox"},e.lastName||"-"))),r.a.createElement(G.a,null,r.a.createElement(K.a,{sm:3},r.a.createElement("div",{className:"label"},"eMail:")),r.a.createElement(K.a,null,r.a.createElement("div",{className:"textbox"},e.emailAddress||"-"))),r.a.createElement(G.a,null,r.a.createElement(K.a,{sm:3},r.a.createElement("div",{className:"label"},"Address:")),r.a.createElement(K.a,null,r.a.createElement("div",{className:"textbox address"},e.address||"-")))):null}}]),t}(n.Component)),le=Object(d.b)(function(e){return{seller:e.sellers.loadedSeller}},function(e){return{dispatch:e}})(re),ce=function(e){function t(){return Object(o.a)(this,t),Object(i.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props,t=e.accepted,a=e.rejected,n=e.escalated,l=e.total,c=e.itemsLoading;return r.a.createElement("div",null,r.a.createElement(Q.a,{className:"reviews-result"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Accepted"),r.a.createElement("th",null,"Rejected"),r.a.createElement("th",null,"Escalated"),r.a.createElement("th",null,"Total"))),r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement("td",null,t>=0?t:"-"),r.a.createElement("td",null,a>=0?a:"-"),r.a.createElement("td",null,n>=0?n:"-"),r.a.createElement("td",null,l>=0?l:"-")),r.a.createElement("tr",null,r.a.createElement("td",null,l?"".concat(100*t/l,"%"):"-"),r.a.createElement("td",null,l?"".concat(100*a/l,"%"):"-"),r.a.createElement("td",null,l?"".concat(100*n/l,"%"):"-"),r.a.createElement("td",null)))),c?r.a.createElement("span",null,"Loading..."):null)}}]),t}(n.Component),oe=Object(d.b)(function(e){return{accepted:e.sellers.loadedSeller&&e.sellers.loadedSeller.accepted,rejected:e.sellers.loadedSeller&&e.sellers.loadedSeller.rejected,escalated:e.sellers.loadedSeller&&e.sellers.loadedSeller.escalated,total:e.sellers.loadedSeller&&e.sellers.loadedSeller.total,itemsLoading:e.sellers.itemsLoading}},function(e){return{dispatch:e}})(ce),se=function(e){function t(){return Object(o.a)(this,t),Object(i.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){this.props.match.params.userName&&this.props.loadSeller(this.props.match.params.userName)}},{key:"render",value:function(){var e=this.props.seller;return r.a.createElement(ee.a,{isOpen:!0,className:"reviews-result-dialog"},r.a.createElement(te.a,null,r.a.createElement("div",{className:"infobox"},r.a.createElement(q.a,null,r.a.createElement(G.a,null,r.a.createElement(K.a,{sm:3},r.a.createElement("div",{className:"label"},"Seller:")),r.a.createElement(K.a,{sm:9},r.a.createElement("strong",null,e&&e.ebaySellerUserName||"-"))),r.a.createElement(G.a,null,r.a.createElement(K.a,null,r.a.createElement(le,{className:"seller-info"}))),r.a.createElement(G.a,null,r.a.createElement(K.a,{sm:3},r.a.createElement("div",{className:"label"},"Reviews history:")),r.a.createElement(K.a,null,r.a.createElement(oe,null)))))),r.a.createElement(ae.a,null,r.a.createElement(ne.a,{tag:Z.a,to:this.props.location.state&&this.props.location.state.returnUrl||"/"},"Close")))}}]),t}(n.Component),ie=Object(d.b)(function(e){return{seller:e.sellers.loadedSeller}},function(e){return{loadSeller:function(t){return e(V(t))},loadItems:function(t){return e($(t))}}})(se),ue=function(){var e=window.google.search.cse.element.getElement("e");return!!e&&(e.execute("market news"),!0)};window.__gcse={parsetags:"onload",callback:function(){ue()||window.google.setOnLoadCallback(ue)}};var me=function(e){function t(){return Object(o.a)(this,t),Object(i.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){this.props.loadAllSellers(),function(){var e=document.createElement("script");e.type="text/javascript",e.async=!0,e.src="https://cse.google.com/cse.js?cx=004358329873995088609:hd3fadxvfdc";var t=document.getElementsByTagName("script")[0];t.parentNode.insertBefore(e,t)}()}},{key:"render",value:function(){var e=this.props,t=e.sellers,a=e.reviewerName;return r.a.createElement(q.a,null,r.a.createElement(G.a,null,r.a.createElement(K.a,null,r.a.createElement("span",null,"Hello ",a,"!"))),r.a.createElement(G.a,null,r.a.createElement(K.a,{sm:5},r.a.createElement(Q.a,null,r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Seller"),r.a.createElement("th",null,"Escalated"))),r.a.createElement("tbody",null,t.map(function(e){return r.a.createElement("tr",{key:e.ebaySellerUserName},r.a.createElement("td",null,r.a.createElement(Z.a,{to:"/sellers/".concat(e.ebaySellerUserName)},e.ebaySellerUserName)),r.a.createElement("td",null,r.a.createElement(Z.a,{to:"/dashboard/".concat(e.ebaySellerUserName)},e.escalated)))})))),r.a.createElement(K.a,{sm:2},r.a.createElement(Z.a,{to:"/load-items"},"Load Items")),r.a.createElement(K.a,{sm:5},r.a.createElement("div",{style:{maxHeight:"90vh",overflow:"auto"},dangerouslySetInnerHTML:{__html:'<gcse:searchresults-only noResultsString="No Results" gname="e"></gcse:searchresults-only>'}}))),r.a.createElement(E.Switch,null,r.a.createElement(E.Route,{path:"/sellers/:userName",component:ie})))}}]),t}(n.Component),de=Object(d.b)(function(e){return{sellers:e.sellers.list,reviewerName:e.oidc.user.profile.given_name}},function(e){return{loadAllSellers:function(){return e(function(e){return e({type:"descriptor/LOAD_ALL_SELLERS_START"}),T().then(function(t){return e({type:F,payload:t})}).catch(function(e){return e.error.then(function(e){return M.b.error(e.message)})})})}}})(me),pe=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).logout=function(){A.signoutRedirect()},a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("a",{href:"#",onClick:this.logout},"Logout"))}}]),t}(n.Component),Ee=a(41),he=a(337),fe=a(149),ve=a.n(fe),ge=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={},a.onChange=function(e){a.setState(Object(Ee.a)({},e.target.name,e.target.value))},a.loadSeller=function(){a.state.userName&&a.props.loadSeller(a.state.userName)},a.loadItems=function(){a.props.seller&&a.props.seller.ebaySellerUserName&&a.props.loadItems(a.props.seller.ebaySellerUserName)},a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){this.props.clearSeller()}},{key:"render",value:function(){var e=this,t=this.props,a=t.seller,n=t.itemsLoading;return r.a.createElement("div",{className:"infobox load-items"},r.a.createElement(q.a,null,r.a.createElement(G.a,null,r.a.createElement("h2",null,"Load Items")),r.a.createElement(G.a,null,r.a.createElement(K.a,{sm:3},r.a.createElement("div",{className:"label"},"Seller:")),r.a.createElement(K.a,{sm:3},r.a.createElement(he.a,{onChange:this.onChange,bsSize:"sm",name:"userName"})),r.a.createElement(K.a,null,r.a.createElement(ne.a,{onClick:this.loadSeller,size:"sm"},"Load")))),r.a.createElement(ve.a,null,r.a.createElement(E.Route,{exact:!0,path:"/load-items/new-seller",component:ie}),r.a.createElement(E.Route,{exact:!0,path:"/load-items",component:function(t){return r.a.createElement("div",null,r.a.createElement(le,null),a?r.a.createElement("div",null,r.a.createElement(G.a,null,r.a.createElement(K.a,{sm:2}),r.a.createElement(K.a,{sm:3},r.a.createElement("div",{className:"label"},"# loaded items:")),r.a.createElement(K.a,{sm:1},r.a.createElement("div",{className:"textbox"},a.total||0))),r.a.createElement(G.a,null,r.a.createElement(K.a,{sm:3}),r.a.createElement(K.a,{sm:2},r.a.createElement(ne.a,{size:"sm",onClick:e.loadItems},"Load new items")),r.a.createElement(K.a,null,r.a.createElement(Z.a,{to:"/dashboard/".concat(e.state.userName)},r.a.createElement(ne.a,{size:"sm"},"Review existing items")))),r.a.createElement(G.a,null,r.a.createElement(K.a,{sm:3}),r.a.createElement(K.a,null,n?r.a.createElement("span",null,"Loading..."):null))):null)}})))}}]),t}(n.Component),be=Object(E.withRouter)(Object(d.b)(function(e){return{seller:e.sellers.loadedSeller,itemsLoading:e.sellers.itemsLoading}},function(e){return{loadSeller:function(t){return e(V(t))},loadItems:function(t){return e($(t))},clearSeller:function(){return e({type:Y})}}})(ge)),Se=(a(194),a(195),a(32)),je=(a(207),a(38)),Oe=a.n(je),ye=a(22),Ne=function(e){function t(){return Object(o.a)(this,t),Object(i.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){this.props.loadDescription(this.props.match.params.itemId,this.props.match.params.descriptionId)}},{key:"render",value:function(){var e=this.props,t=e.description,a=e.history;return r.a.createElement(ee.a,{isOpen:!0},r.a.createElement(te.a,null,r.a.createElement("div",{className:"infobox"},r.a.createElement(q.a,null,r.a.createElement(G.a,null,r.a.createElement(K.a,{sm:4},r.a.createElement("div",{className:"label"},"Description ID:")),r.a.createElement(K.a,{sm:8},t.id," ",t.shortDescription)),r.a.createElement(G.a,null,r.a.createElement(K.a,{sm:4},r.a.createElement("div",{className:"label"},"Description:")),r.a.createElement(K.a,{sm:8},r.a.createElement("div",{className:"textbox long-description"},t.longDescription||"-"))),r.a.createElement(G.a,null,r.a.createElement(K.a,{sm:4},r.a.createElement("div",{className:"label"},"Note:")),r.a.createElement(K.a,{sm:8},r.a.createElement("div",{className:"textbox"},t.note||"-"))),r.a.createElement(G.a,null,r.a.createElement(K.a,{sm:4},r.a.createElement("div",{className:"label"},"Begin Effective:")),r.a.createElement(K.a,{sm:2},r.a.createElement("div",{className:"textbox"},t.beginEffective||"-")),r.a.createElement(K.a,{sm:4},r.a.createElement("div",{className:"label"},"End Effective:")),r.a.createElement(K.a,{sm:2},r.a.createElement("div",{className:"textbox"},t.endEffective||"-")))))),r.a.createElement(ae.a,null,r.a.createElement(ne.a,{onClick:a.goBack},"Close")))}}]),t}(n.Component),we=Object(d.b)(function(e){return{description:e.items.loadedDescription}},function(e){return{loadDescription:function(t,a){return e(y(t,a))}}})(Ne),De={escalated:1,approved:2,rejected:3},Ce=[{title:"Seller",field:"seller",align:"center",formatter:Object(Se.reactFormatter)(r.a.createElement(function(e){var t="/dashboard/".concat(e.cell._cell.value,"/info");return r.a.createElement("a",{href:t,onClick:function(e){e.preventDefault(),B.push(t,{returnUrl:B.location.pathname})}},e.cell._cell.value)},null))},{title:"Item Number",field:"itemId",align:"center",formatter:Object(Se.reactFormatter)(r.a.createElement(function(e){var t="/dashboard/".concat(e.cell._cell.row.data.seller,"/items/").concat(e.cell._cell.value);return r.a.createElement("a",{href:t,onClick:function(e){e.preventDefault(),B.push(t,{returnUrl:B.location.pathname})}},e.cell._cell.value)},null))},{title:"Description",field:"description",align:"center"},{title:"Review Date/Time",field:"reviewDate",sorter:"date",align:"center",formatter:"datetime",formatterParams:{outputFormat:"MMMM D, YYYY",invalidPlaceholder:""}},{title:"Description ID",field:"descriptionId",align:"center",formatter:Object(Se.reactFormatter)(r.a.createElement(function(e){var t="/dashboard/".concat(e.cell._cell.row.data.seller,"/items/").concat(e.cell._cell.row.data.itemId,"/descriptions/").concat(e.cell._cell.value);return r.a.createElement("a",{href:t,onClick:function(e){e.preventDefault(),B.push(t)}},e.cell._cell.value)},null))},{title:"Short Description",field:"shortDescription",align:"center"},{title:"Status",field:"itemStatus",align:"center",formatter:Object(Se.reactFormatter)(r.a.createElement(function(e){return e.cell._cell.value&&e.cell._cell.value!=De.escalated?e.cell._cell.value==De.approved?r.a.createElement(ye.a,{className:"ico ico-approved"}):e.cell._cell.value==De.rejected?r.a.createElement(ye.c,{className:"ico ico-rejected"}):null:r.a.createElement(ye.b,{className:"ico ico-escalated"})},null))},{title:"Reviewer",field:"reviewer",align:"center"}],ke=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={sellers:[],reviewers:[],dateFrom:Oe()(new Date).format("YYYY-MM-DD"),dateTo:Oe()(new Date).format("YYYY-MM-DD"),filterBy:null,approver:null},a.onFilterChange=function(e){a.setState(Object(Ee.a)({},e.target.name,e.target.value))},a.onSellerChange=function(e){a.props.history.push("/dashboard/".concat(e.target.value))},a.loadSeller=function(){var e=a.props.match.params.userName;a.props.loadDashboard(e),a.setState({seller:e})},a.filterData=function(e,t){var n=a.state,r=n.filterBy,l=n.dateFrom,c=n.dateTo,o=n.approver;return(!r||e.itemStatus==r)&&(e.itemStatus!=De.approved||!o||o==e.reviewerId)&&(!e.reviewDate||Oe()(l)<=Oe()(e.reviewDate)&&Oe()(c).endOf("day")>=Oe()(e.reviewDate))},a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.loadSeller(),Promise.resolve([]).then(function(t){return e.setState({reviewers:t})}),T().then(function(t){return e.setState({sellers:t})}),fetch("/api/reviewers",{method:"get",headers:{Authorization:"Bearer ".concat(L.getState().oidc.user.access_token)}}).then(function(e){return e.ok?e.json():Promise.reject({status:e.status,error:e.json()})},function(e){return console.log("An error occurred.",e)}).then(function(t){return e.setState({reviewers:t})}),this.tabulator.table.setFilter(this.filterData)}},{key:"componentDidUpdate",value:function(e){this.props.match.params.userName!==e.match.params.userName&&this.loadSeller()}},{key:"render",value:function(){var e=this,t=this.props.reviews,a=this.state,n=a.reviewers,l=a.sellers,c=a.dateFrom,o=a.dateTo,s=a.filterBy,i=a.seller,u=a.approver;return r.a.createElement(q.a,null,r.a.createElement(G.a,null,r.a.createElement(K.a,null,r.a.createElement("h3",{className:"page-header"},"Review Dashboard"))),r.a.createElement(G.a,null,r.a.createElement(K.a,{sm:2},r.a.createElement("strong",{className:"float-right"},"Filter by:")),r.a.createElement(K.a,{sm:2,className:"filter-status-choice"},r.a.createElement(G.a,null,r.a.createElement(K.a,{sm:7},r.a.createElement("input",{onChange:this.onFilterChange,name:"filterBy",type:"radio",value:De.escalated,checked:s==De.escalated}),"Escalated"),r.a.createElement(K.a,{sm:5},r.a.createElement(ye.b,{className:"ico ico-escalated"}))),r.a.createElement(G.a,null,r.a.createElement(K.a,{sm:7},r.a.createElement("input",{onChange:this.onFilterChange,name:"filterBy",type:"radio",value:De.rejected,checked:s==De.rejected}),"Rejected"),r.a.createElement(K.a,{sm:5},r.a.createElement(ye.c,{className:"ico ico-rejected"}))),r.a.createElement(G.a,null,r.a.createElement(K.a,{sm:7},r.a.createElement("input",{onChange:this.onFilterChange,name:"filterBy",type:"radio",value:De.approved,checked:s==De.approved}),"Approved"),r.a.createElement(K.a,{sm:5},r.a.createElement(ye.a,{className:"ico ico-approved"}))),r.a.createElement(G.a,null,r.a.createElement(K.a,{sm:9},r.a.createElement("input",{onChange:this.onFilterChange,name:"filterBy",type:"radio",value:null,checked:!s}),"All"))),r.a.createElement(K.a,{sm:4},r.a.createElement(G.a,null,r.a.createElement(K.a,null,r.a.createElement("strong",{className:"float-right"},"Seller:")),r.a.createElement(K.a,null,r.a.createElement("select",{className:"w-100",name:"seller",value:i,onChange:this.onSellerChange},l.map(function(e){return r.a.createElement("option",{key:e.ebaySellerUserName,value:e.ebaySellerUserName},e.ebaySellerUserName)})))),r.a.createElement(G.a,null,r.a.createElement(K.a,null,r.a.createElement("strong",{className:"float-right"},"Approver:")),r.a.createElement(K.a,null,r.a.createElement("select",{className:"w-100",name:"approver",value:u,onChange:this.onFilterChange},r.a.createElement("option",{value:""},"All"),n.map(function(e){return r.a.createElement("option",{key:e.id,value:e.id},e.firstName," ",e.lastName)}))))),r.a.createElement(K.a,{sm:4},r.a.createElement(G.a,null,r.a.createElement(K.a,null,r.a.createElement("strong",{className:"float-right"},"From:")),r.a.createElement(K.a,null,r.a.createElement("input",{name:"dateFrom",onChange:this.onFilterChange,type:"date",value:c})))," ",r.a.createElement(G.a,null,r.a.createElement(K.a,null,r.a.createElement("strong",{className:"float-right"},"To:")),r.a.createElement(K.a,null,r.a.createElement("input",{name:"dateTo",onChange:this.onFilterChange,type:"date",value:o}))))),r.a.createElement(G.a,null,r.a.createElement(K.a,null,r.a.createElement(Se.ReactTabulator,{ref:function(t){return e.tabulator=t},columns:Ce,data:t}))),r.a.createElement(E.Switch,null,r.a.createElement(E.Route,{path:"/dashboard/:userName/info",component:ie}),r.a.createElement(E.Route,{path:"/dashboard/:userName/items/:itemId/descriptions/:descriptionId",component:we})))}}]),t}(n.Component),_e=Object(E.withRouter)(Object(d.b)(function(e){return{reviews:e.dashboard.items}},function(e,t){return{loadDashboard:function(t){return e(D(t))}}})(ke)),Ae={unknown:null,escalated:1,approved:2,rejected:3},Re=a(338),Ie=function(e){function t(){return Object(o.a)(this,t),Object(i.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e,t=this.props,a=t.value,n=t.name,l=t.onChange,c=t.showLabel,o=t.canApprove,s=t.className,i="N/A";return a?a==Ae.escalated?(e=r.a.createElement(ye.b,{className:"ico ico-escalated"}),i="Escalated"):a==Ae.approved?(e=r.a.createElement(ye.a,{className:"ico ico-approved"}),i="Approved"):a==Ae.rejected&&(e=r.a.createElement(ye.c,{className:"ico ico-rejected"}),i="Rejected"):e=r.a.createElement(ye.b,{className:"ico ico-escalated"}),r.a.createElement("span",{className:s},r.a.createElement(Re.a,{trigger:r.a.createElement(ne.a,null,e),content:r.a.createElement(q.a,{sm:2,className:"filter-status-choice"},r.a.createElement(G.a,null,r.a.createElement(K.a,{sm:9},r.a.createElement("input",{onChange:l,name:n,type:"radio",value:Ae.escalated,checked:a==Ae.escalated}),"Escalated"),r.a.createElement(K.a,{sm:3},r.a.createElement(ye.b,{className:"ico ico-escalated"}))),r.a.createElement(G.a,null,r.a.createElement(K.a,{sm:9},r.a.createElement("input",{onChange:l,name:n,type:"radio",value:Ae.rejected,checked:a==Ae.rejected}),"Rejected"),r.a.createElement(K.a,{sm:3},r.a.createElement(ye.c,{className:"ico ico-rejected"}))),r.a.createElement(G.a,null,r.a.createElement(K.a,{sm:9},r.a.createElement("input",{disabled:!o,onChange:l,name:n,type:"radio",value:Ae.approved,checked:a==Ae.approved}),"Approved"),r.a.createElement(K.a,{sm:3},r.a.createElement(ye.a,{className:"ico ico-approved"}))),r.a.createElement(G.a,null,r.a.createElement(K.a,{sm:9},r.a.createElement("input",{onChange:l,name:n,type:"radio",value:null,checked:!a}),"N/A"))),on:"click",hideOnScroll:!0}),c?r.a.createElement("span",{className:"ml-2"},i):null)}}]),t}(n.Component);Ie.defaultProps={canApprove:!0};var Le=Ie,Te=[{field:"imageUrl",align:"center",formatter:Object(Se.reactFormatter)(r.a.createElement(function(e){return r.a.createElement("img",{className:"product-image",src:e.cell._cell.value,alt:e.cell._cell.value})},null))}],Ue=[{title:"Description ID",field:"id",align:"center",width:100},{title:"Description",field:"shortDescription",align:"center"},{title:"C %",field:"percent",align:"center",width:50},{field:"id",align:"center",width:50,formatter:Object(Se.reactFormatter)(r.a.createElement(function(e){return r.a.createElement("input",{type:"radio",name:"descriptionId",value:e.cell._cell.value,checked:e.cell._cell.row.data.active,onChange:e.cell._cell.row.data.onChange})},null))}],xe=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={canApprove:!1,descriptions:[]},a.onStatusChange=function(e){a.setState(Object(Ee.a)({},e.target.name,e.target.value),a.checkCanApprove)},a.onDescriptionStatusChange=function(e){var t=a.state.descriptions.find(function(e){return e.id==a.state.descriptionId});t&&(t.status=e.target.value,a.setState({descriptionStatus:t.status},a.checkCanApprove))},a.onDescriptionChange=function(e){var t=a.state.descriptions.find(function(t){return t.id==e.target.value});a.setDescription(t)},a.setDescription=function(e){e&&a.setState({descriptionId:e.id,shortDescription:e.shortDescription,descriptionStatus:e.status},a.checkCanApprove)},a.checkCanApprove=function(){var e=!1;a.setState(function(t,a){return{canApprove:e=t.imagesStatus==Ae.approved&&t.descriptionStatus==Ae.approved&&t.priceStatus==Ae.approved,itemStatus:e||t.itemStatus!=Ae.approved?t.itemStatus:Ae.unknown}})},a.save=function(){var e=a.state,t={itemId:e.itemId,descriptionId:e.descriptionId,itemStatus:e.itemStatus,imagesStatus:e.imagesStatus,priceStatus:e.priceStatus,descriptions:e.descriptions};v(a.props.match.params.itemId,t).then(function(e){return a.props.history.goBack()})},a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){this.props.match.params.itemId&&this.props.loadItem(this.props.match.params.itemId)}},{key:"componentDidUpdate",value:function(e){var t=this;this.props.item!==e.item&&this.setState(this.props.item,function(){var e=t.state.descriptions.find(function(e){return e.id==t.props.item.descriptionId});t.setDescription(e),t.checkCanApprove()})}},{key:"render",value:function(){var e=this,t=this.props,a=t.item,n=t.location.pathname,l=t.history,c=this.state,o=c.itemStatus,s=c.imagesStatus,i=c.descriptionStatus,u=c.priceStatus,m=c.canApprove,d=c.descriptions,p=c.descriptionId,E=c.shortDescription,h=a&&a.imageUrls&&a.imageUrls.split("\n").map(function(e){return{imageUrl:e}})||[],f=d.map(function(t){return t.onChange=e.onDescriptionChange,t.active=t.id==p,t});return r.a.createElement(q.a,{className:"h-100"},r.a.createElement("div",{className:"item-details vertical-container"},r.a.createElement("div",{className:"horizontal-container"},r.a.createElement("div",{className:"header w-100"},r.a.createElement(q.a,null,r.a.createElement(G.a,null,r.a.createElement(K.a,{className:"pl-0"},r.a.createElement(ne.a,{onClick:this.save},"Save"),r.a.createElement("span",{className:"status-label mr-2"},"Status:"),r.a.createElement(Le,{canApprove:m,name:"itemStatus",value:o,onChange:this.onStatusChange,showLabel:!0})),r.a.createElement(K.a,{className:"text-center"},r.a.createElement("h4",null,"Details for Item: ",r.a.createElement(Z.a,{to:n},this.props.match.params.itemId))),r.a.createElement(K.a,{className:"pr-0"},r.a.createElement(ne.a,{className:"float-right",onClick:l.goBack},"Cancel")))))),r.a.createElement("div",{className:"horizontal-container grow"},r.a.createElement("div",{className:"segment lg",ref:function(t){return e.ltSegment=t}},r.a.createElement(q.a,{className:"h-100"},r.a.createElement(G.a,{className:"h-100"},r.a.createElement(K.a,null,r.a.createElement(G.a,null,r.a.createElement(K.a,null,"Description ID and Short Description:")),r.a.createElement(G.a,null,r.a.createElement(K.a,null,r.a.createElement("strong",null,"Item description:"))),r.a.createElement(G.a,null,r.a.createElement(K.a,null,a.description)),r.a.createElement(G.a,null,r.a.createElement(K.a,null,r.a.createElement("strong",null,"Description:"))),r.a.createElement(G.a,null,r.a.createElement(K.a,null,a.description))),r.a.createElement(K.a,null,r.a.createElement(G.a,null,r.a.createElement(K.a,null,p?"".concat(p," - ").concat(E):null,r.a.createElement(Le,{name:"descriptionStatus",className:"float-right",value:i,onChange:this.onDescriptionStatusChange}))),r.a.createElement(G.a,{className:"h-80"},r.a.createElement(K.a,null,r.a.createElement(Se.ReactTabulator,{ref:function(t){return e.tableDescriptions=t},columns:Ue,data:f||[],options:{height:"54vh"}}))))))),r.a.createElement("div",{className:"segment sm"},r.a.createElement(q.a,null,r.a.createElement(G.a,null,r.a.createElement(K.a,null,"Item pictures: ",r.a.createElement(Le,{name:"imagesStatus",className:"float-right",value:s,onChange:this.onStatusChange}))),r.a.createElement(G.a,null,r.a.createElement(K.a,null,r.a.createElement(Se.ReactTabulator,{className:"no-header images-table",columns:Te,data:h,options:{height:"55vh"}})))))),r.a.createElement("div",{className:"horizontal-container"},r.a.createElement("div",{className:"segment lg"},r.a.createElement(q.a,null,r.a.createElement(G.a,null,r.a.createElement(K.a,null,r.a.createElement("strong",null,"Import Duty and Taxes"),r.a.createElement("span",{className:"float-right"},r.a.createElement("span",{className:"mr-3"},"Duty free:"),r.a.createElement(Le,{name:"priceStatus",value:u,onChange:this.onStatusChange})))),r.a.createElement(G.a,null,r.a.createElement(K.a,{sm:7},"Price: $",a.price),r.a.createElement(K.a,{sm:5},"Duties: ")),r.a.createElement(G.a,null,r.a.createElement(K.a,{sm:7},"Lot Size: 0"),r.a.createElement(K.a,{sm:5},"Taxes: ")))),r.a.createElement("div",{className:"segment sm"},r.a.createElement(q.a,null,r.a.createElement(G.a,null,r.a.createElement(K.a,{sm:3},"Item URL: "),r.a.createElement(K.a,{sm:9},r.a.createElement("a",{className:"item-url",href:a.itemUrl},a.itemUrl))))))))}}]),t}(n.Component),Be=Object(E.withRouter)(Object(d.b)(function(e){return{item:e.items.loadedItem}},function(e){return{loadItem:function(t){return e(O(t))}}})(xe)),Me=function(e){function t(){return Object(o.a)(this,t),Object(i.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){fetch("/api/reviewers/init-reviewer",{method:"put",headers:{Authorization:"Bearer ".concat(L.getState().oidc.user.access_token)}})}},{key:"render",value:function(){return r.a.createElement("main",null,r.a.createElement(pe,null),r.a.createElement(E.Switch,null,r.a.createElement(E.Route,{path:"/load-items",component:be}),r.a.createElement(E.Route,{path:"/dashboard/:userName/items/:itemId",exact:!0,component:Be}),r.a.createElement(E.Route,{path:"/dashboard/:userName",component:_e}),r.a.createElement(E.Route,{path:"/",component:de})))}}]),t}(n.Component),Fe=Object(E.withRouter)(Me),Pe=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).redirect=function(){A.signinRedirect().catch(function(e){console.error(e),setTimeout(function(){a.redirect()},1e3)})},a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this;new Promise(function(e){return setTimeout(e,5e3)}).then(function(){e.props.isLoadingUser||e.redirect()})}},{key:"componentDidUpdate",value:function(e){this.props.isLoadingUser||e.isLoadingUser===this.props.isLoadingUser||this.redirect()}},{key:"render",value:function(){return r.a.createElement("div",null,"Redirecting...")}}]),t}(r.a.Component);var ze=Object(d.b)(function(e){return{isLoadingUser:e.oidc.isLoadingUser}},function(e){return{dispatch:e}})(Pe),Ye=function(e){function t(){return Object(o.a)(this,t),Object(i.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props.user;return!e||e.expired?r.a.createElement(ze,null):r.a.createElement("div",null,r.a.createElement(Fe,null))}}]),t}(n.Component);var He=Object(E.withRouter)(Object(d.b)(function(e){return{user:e.oidc.user}},function(e){return{dispatch:e}})(Ye)),Xe=function(e){function t(){return Object(o.a)(this,t),Object(i.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement(p.CallbackComponent,{userManager:A,successCallback:function(){console.log("success"),e.props.history.push("/")},errorCallback:function(t){console.error(t),e.props.history.push("/")}},r.a.createElement("div",null,"Redirecting..."))}}]),t}(r.a.Component),Je=Object(d.b)()(Xe),Ve=(a(320),function(e){function t(){return Object(o.a)(this,t),Object(i.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement(d.a,{store:L},r.a.createElement(p.OidcProvider,{store:L,userManager:A},r.a.createElement("div",null,r.a.createElement(E.Switch,null,r.a.createElement(E.Route,{exact:!0,path:"/callback",component:Je}),r.a.createElement(E.Route,{path:"/",component:He})),r.a.createElement(M.a,null))))}}]),t}(n.Component));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(321),a(322),a(323),a(324);"/silent-renew"===window.location.pathname?Object(p.processSilentRenew)():(window.moment=Oe.a,c.a.render(r.a.createElement(E.Router,{history:B},r.a.createElement(Ve,null)),document.getElementById("root"))),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},57:function(e,t,a){}},[[169,1,2]]]);
//# sourceMappingURL=main.fbe2e94c.chunk.js.map