(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{39:function(e,t,n){e.exports=n(58)},44:function(e,t,n){},54:function(e,t,n){},55:function(e,t,n){},58:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(24),o=n.n(c),l=(n(44),n(6)),i=n(7),s=n(9),u=n(8),m=n(10),d=n(12),p=n(11),E=n(17),f=n(18),h={list:[],loadedSeller:null};var b=Object(f.c)({oidc:p.reducer,sellers:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:h,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case p.SESSION_TERMINATED:case p.USER_EXPIRED:return Object.assign({},e,h);case y:return Object.assign({},e,{list:t.payload});case _:return Object.assign({},e,{loadedSeller:t.payload});default:return e}}}),O={client_id:"js",redirect_uri:"".concat(window.location.protocol,"//").concat(window.location.hostname).concat(window.location.port?":".concat(window.location.port):"","/callback"),response_type:"token id_token",scope:"openid profile descriptor",authority:"http://10.0.75.1:8181",silent_redirect_uri:"".concat(window.location.protocol,"//").concat(window.location.hostname).concat(window.location.port?":".concat(window.location.port):"","/silent-renew"),automaticSilentRenew:!0,filterProtocolClaims:!0,loadUserInfo:!0,post_logout_redirect_uri:"".concat(window.location.protocol,"//").concat(window.location.hostname).concat(window.location.port?":".concat(window.location.port):"","/")},g=Object(p.createUserManager)(O),j=n(33),w=Object(f.d)(Object(f.a)(j.a,function(e){return function(t){return function(n){console.log("Action type:",n.type),console.log("Action payload:",n.payload),console.log("State before:",e.getState()),t(n),console.log("State after:",e.getState())}}}))(f.e)(b,{},window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__());Object(p.loadUser)(w,g);var v=w,S=n(34),y="descriptor/LOAD_ALL_SELLERS_SUCCESS",_="descriptor/LOAD_SELLER_SUCCESS",L=function(){return function(e){return e({type:"descriptor/LOAD_ALL_SELLERS_START"}),fetch("/api/sellers",{method:"get",headers:{Authorization:"Bearer ".concat(v.getState().oidc.user.access_token)}}).then(function(e){return e.json()},function(e){return console.log("An error occurred.",e)}).then(function(t){return e({type:y,payload:t})})}},k=function(e){return function(t){return t({type:"descriptor/LOAD_SELLER_START"}),function(e){return fetch("/api/sellers/".concat(e),{method:"get",headers:{Authorization:"Bearer ".concat(v.getState().oidc.user.access_token)}}).then(function(e){return e.ok?e.json():Promise.reject({status:e.status})},function(e){return console.log("An error occurred.",e)})}(e).then(function(e){return t({type:_,payload:e})}).catch(function(n){if(404===n.status)return Object(S.confirmAlert)({message:"New Seller. Load Items?",buttons:[{label:"Yes",onClick:function(){return t(N(e))}},{label:"No"}]})})}},N=function(e){return function(t){return t({type:"descriptor/ADD_SELLER_START"}),function(e){return fetch("/api/sellers/".concat(e),{method:"post",headers:{Authorization:"Bearer ".concat(v.getState().oidc.user.access_token)}}).then(function(e){return e.json()},function(e){return console.log("An error occurred.",e)})}(e).then(function(e){return t({type:"descriptor/ADD_SELLER_SUCCESS",payload:e})})}},A=n(59),C=n(60),R=n(61),x=n(62),U=n(19),D=function(){var e=window.google.search.cse.element.getElement("e");return!!e&&(e.execute("market news"),!0)};window.__gcse={parsetags:"onload",callback:function(){D()||window.google.setOnLoadCallback(D)}};var T=function(e){function t(){return Object(l.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){this.props.loadAllSellers(),function(){var e=document.createElement("script");e.type="text/javascript",e.async=!0,e.src="https://cse.google.com/cse.js?cx=004358329873995088609:hd3fadxvfdc";var t=document.getElementsByTagName("script")[0];t.parentNode.insertBefore(e,t)}()}},{key:"render",value:function(){var e=this.props.sellers;return r.a.createElement(A.a,null,r.a.createElement(C.a,null,r.a.createElement(R.a,{sm:5},r.a.createElement(x.a,null,r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Seller"),r.a.createElement("th",null,"Escalated"))),r.a.createElement("tbody",null,e.map(function(e){return r.a.createElement("tr",{key:e.ebaySellerUserName},r.a.createElement("td",null,e.ebaySellerUserName),r.a.createElement("td",null,e.escalated))})))),r.a.createElement(R.a,{sm:2},r.a.createElement(U.b,{to:"load-items"},"Load Items")),r.a.createElement(R.a,{sm:5},r.a.createElement("div",{style:{maxHeight:"90vh",overflow:"auto"},dangerouslySetInnerHTML:{__html:'<gcse:searchresults-only noResultsString="No Results" gname="e"></gcse:searchresults-only>'}}))))}}]),t}(a.Component),I=Object(d.b)(function(e){return{sellers:e.sellers.list}},function(e){return{loadAllSellers:function(){return e(L())}}})(T),B=function(e){function t(){var e,n;Object(l.a)(this,t);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(n=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).logout=function(){g.signoutRedirect()},n}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("a",{href:"#",onClick:this.logout},"Logout"))}}]),t}(a.Component),M=n(38),z=n(63),X=n(64),P=function(e){function t(){return Object(l.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.props.seller;return e?r.a.createElement(A.a,{className:"seller-info"},r.a.createElement(C.a,null,r.a.createElement(R.a,{sm:2},r.a.createElement("div",{className:"label"},"First Name:")),r.a.createElement(R.a,{sm:2},r.a.createElement("div",{className:"textbox"},e.firstName)),r.a.createElement(R.a,{sm:2},r.a.createElement("div",{className:"label"},"Last Name:")),r.a.createElement(R.a,{sm:2},r.a.createElement("div",{className:"textbox"},e.lastName))),r.a.createElement(C.a,null,r.a.createElement(R.a,{sm:2},r.a.createElement("div",{className:"label"},"eMail:")),r.a.createElement(R.a,null,r.a.createElement("div",{className:"textbox"},e.emailAddress))),r.a.createElement(C.a,null,r.a.createElement(R.a,{sm:2},r.a.createElement("div",{className:"label"},"Address:")),r.a.createElement(R.a,null,r.a.createElement("div",{className:"textbox address"},e.address)))):null}}]),t}(a.Component),H=Object(d.b)(function(e){return{seller:e.sellers.loadedSeller}},function(e){return{dispatch:e}})(P),J=(n(54),function(e){function t(){var e,n;Object(l.a)(this,t);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(n=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={},n.onChange=function(e){n.setState(Object(M.a)({},e.target.name,e.target.value))},n.loadSeller=function(){n.state.userName&&n.props.loadSeller(n.state.userName)},n}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"infobox"},r.a.createElement(A.a,null,r.a.createElement(C.a,null,r.a.createElement("h2",null,"Load Items")),r.a.createElement(C.a,null,r.a.createElement(R.a,{sm:2},r.a.createElement("div",{className:"label"},"Seller:")),r.a.createElement(R.a,{sm:2},r.a.createElement(z.a,{onChange:this.onChange,bsSize:"sm",name:"userName"})),r.a.createElement(R.a,null,r.a.createElement(X.a,{onClick:this.loadSeller,size:"sm"},"Load")))),r.a.createElement(H,null))}}]),t}(a.Component)),V=Object(d.b)(function(){return{}},function(e){return{loadSeller:function(t){return e(k(t))}}})(J),W=function(){return r.a.createElement("main",null,r.a.createElement(B,null),r.a.createElement(E.c,null,r.a.createElement(E.a,{exact:!0,path:"/",component:I}),r.a.createElement(E.a,{exact:!0,path:"/load-items",component:V})))},F=function(e){function t(){var e,n;Object(l.a)(this,t);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(n=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).redirect=function(){g.signinRedirect().catch(function(e){console.error(e),setTimeout(function(){n.redirect()},1e3)})},n}return Object(m.a)(t,e),Object(i.a)(t,[{key:"componentDidUpdate",value:function(e){this.props.isLoadingUser||e.isLoadingUser===this.props.isLoadingUser||this.redirect()}},{key:"render",value:function(){return r.a.createElement("div",null,"Redirecting...")}}]),t}(r.a.Component);var Y=Object(d.b)(function(e){return{isLoadingUser:e.oidc.isLoadingUser}},function(e){return{dispatch:e}})(F),$=function(e){function t(){return Object(l.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.props.user;return!e||e.expired?r.a.createElement(Y,null):r.a.createElement("div",null,r.a.createElement(W,null))}}]),t}(a.Component);var q=Object(E.e)(Object(d.b)(function(e){return{user:e.oidc.user}},function(e){return{dispatch:e}})($)),G=function(e){function t(){return Object(l.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement(p.CallbackComponent,{userManager:g,successCallback:function(){console.log("success"),e.props.history.push("/")},errorCallback:function(t){console.error(t),e.props.history.push("/")}},r.a.createElement("div",null,"Redirecting..."))}}]),t}(r.a.Component),K=Object(d.b)()(G),Q=(n(55),function(e){function t(){return Object(l.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement(d.a,{store:v},r.a.createElement(p.OidcProvider,{store:v,userManager:g},r.a.createElement("div",null,r.a.createElement(E.c,null,r.a.createElement(E.a,{exact:!0,path:"/callback",component:K}),r.a.createElement(E.a,{path:"/",component:q})))))}}]),t}(a.Component));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));n(56),n(57);"/silent-renew"===window.location.pathname?Object(p.processSilentRenew)():o.a.render(r.a.createElement(U.a,null,r.a.createElement(Q,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[39,1,2]]]);
//# sourceMappingURL=main.e1682b4e.chunk.js.map